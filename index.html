<html>
	<head>
		<title>spinnerShooter</title>
		<style>
			html, body {
				width: 100%;
				height: 100%;
				margin: 0;
				border: 0;
				overflow: hidden; /*  Disable scrollbars */
				display: block;  /* No floating content on sides */
			}
			#canvas {
				position:absolute;
				left: 0px;
				top: 0px;
			}
		</style>
	</head>
	<body>
		<canvas id="canvas"></canvas>
		<script type="module">
			var htmlCanvas = document.getElementById("canvas");
			var canvas = htmlCanvas.transferControlToOffscreen();
			canvas.width = window.innerWidth;
			canvas.height = window.innerHeight;

			var worker = new Worker("main.js", {type: "module"});
			worker.postMessage({message: 'canvas', canvas: canvas}, [canvas]);
			window.addEventListener('resize', () => {
				worker.postMessage({message: 'resize', width: window.innerWidth, height: window.innerHeight}, []);
			}, false);
			document.addEventListener("pointermove", (e) => {
				worker.postMessage({message: 'input', s1: e.movementX, s2: e.movementY}, []);
			}, false);

			// https://developer.mozilla.org/en-US/docs/Web/API/Pointer_Lock_API
			//document.addEventListener("mousemove", (e) => {
			// https://developer.mozilla.org/en-US/docs/Web/API/Pointer_events
		</script>
	</body>
</html>